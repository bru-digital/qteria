# Railway build configuration for Qteria API
# This file configures system dependencies and Python version for Nixpacks
# Note: Python dependency installation is handled by railway.json buildCommand

[phases.setup]
# Install system dependencies required by Python packages
# Note: When specifying nixPkgs, must explicitly include python311 (auto-detection is disabled)
nixPkgs = ['python311', 'file']  # python311 + file (contains libmagic)
aptPkgs = ['libmagic1']  # Fallback for libmagic

[start]
# Start the FastAPI application
cmd = 'uvicorn app.main:app --host 0.0.0.0 --port $PORT'

[variables]
# Python version constraint (must match .python-version file)
PYTHON_VERSION = '3.11'
